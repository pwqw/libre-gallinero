#!/data/data/com.termux/files/usr/bin/bash
# -*- coding: utf-8 -*-
# Shortcut para leer logs del ESP8266 (MODO NO INVASIVO)
# Muestra historial + tiempo real (por defecto incluye historial)

set -e
set -u

cd "$HOME/libre-gallinero"

# Cargar funciones comunes
source "$HOME/libre-gallinero/termux/common.sh"

print_banner "LEER LOGS ESP8266 (PASIVO)"

# Ejecutar script de logs en modo no invasivo
# Modo por defecto: muestra historial primero, luego tiempo real
# Para solo historial: python3 tools/read_logs.py heladera --history
# Para reiniciar app: python3 tools/read_logs.py heladera --restart
if python3 tools/read_logs.py heladera; then
    pause
else
    pause_error "Lectura de logs fall√≥"
fi
